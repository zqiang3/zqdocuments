Mako模板从一个包含各种类型的文本流解析得到，包括XML、HTML、email文本等。模板还可以包含Mako指令，用来表示变量和表达式替换、控制结构、服务端注释、整块python代码，还有用来提供额外功能的各种标签。所以这些结构都被编译为实际的python代码，这意味着你可以充分利用python的强大功能。

表达式替换
${x}
上面的例子会把 x 的字符串表示输出到模板的输出流。 x 通常来自于传递给模板渲染函数的 Context 。如果没有传入 x 给模板，并且也没有本地赋值，那么就等于一个特殊的值 UNDEFINED 。

控制结构
Mako中，控制结构写成 % 标记后面跟正常的Python控制表达式，用 % 加标签 end<name> 结束， <name> 为表达式的关键词：

python代码块
可以用 <% %> 标签引入任意Python代码块：

模块级的语句块
<% %> 的一个变种是模块级的块，用 <%! %> 表示。标签中的代码在模板的模块级别执行，而不是在模板的渲染函数中。因此，这些代码不能访问模板的上下文，并且只能在模板加载到内存时执行（一般每个应用一次，取决于运行环境）。使用 <%! %> 标签来声明模板的导入和纯Python函数：

标签
Mako提供的其他东西以标签的形式出现。所有标签使用相同的语法，和XML标签类似，但是在标签名之前加上了 % 字符。标签结束方式和XML类似：